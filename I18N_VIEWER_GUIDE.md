# i18n 数据查看器使用说明

## 功能概述

i18n 数据查看器是 Contexto 插件的新功能，用于以表格形式查看和管理翻译数据。

## 主要特性

### 1. 表格查看
- **Key**: 翻译键名
- **原文**: 源语言文本
- **业务上下文**: 业务场景描述
- **UI上下文**: 界面上下文描述
- **各语种翻译**: 显示所有目标语言的翻译文案

### 2. 在线编辑
- 支持直接在表格中编辑翻译文案
- 自动保存编辑结果到缓存
- 防抖处理，避免频繁保存

### 3. Excel 导出
- 将所有翻译数据导出为 Excel 文件
- 保持表格结构和格式
- 支持所有配置的目标语言

### 4. Excel 导入
- 支持从 Excel 文件导入翻译数据
- 自动验证文件格式
- 支持批量更新翻译内容
- 导入时会覆盖现有数据

## 使用方法

### 打开查看器
1. 确保项目已初始化且配置正确
2. 在 "翻译管理" 面板的工具栏中点击 "查看i18n数据" 按钮
3. 查看器将在新的编辑器标签页中打开

### 导出到 Excel
1. 在查看器中点击 "导出Excel" 按钮
2. 选择保存位置和文件名
3. 文件将保存为 .xlsx 格式

### 从 Excel 导入
1. 在查看器中点击 "导入Excel" 按钮
2. 选择要导入的 Excel 文件
3. 系统会验证文件格式并导入数据

### Excel 文件格式要求
导入的 Excel 文件必须包含以下列：
- **Key** (必需): 翻译键名
- **原文** (必需): 源语言文本
- **业务上下文** (可选): 业务场景描述
- **UI上下文** (可选): 界面上下文描述
- **[语言代码]** (可选): 各目标语言列，如 en、zh-TW 等

## 注意事项

1. **数据覆盖**: 导入 Excel 数据时会覆盖现有的翻译内容
2. **文件格式**: 仅支持 .xlsx 和 .xls 格式的 Excel 文件
3. **编码支持**: 支持中文等多语言字符
4. **实时同步**: 在查看器中的修改会实时保存到项目缓存中

## 快捷操作

- **刷新**: 点击刷新按钮重新加载数据
- **在线编辑**: 直接在文本框中修改翻译，失去焦点时自动保存
- **批量操作**: 通过 Excel 导入功能进行批量翻译更新

## 集成工作流

1. **导出审校**: 将翻译数据导出给翻译人员审校
2. **离线翻译**: 翻译人员在 Excel 中完成翻译工作
3. **导入更新**: 将完成的翻译文件导入回系统
4. **实时预览**: 在查看器中验证翻译效果
